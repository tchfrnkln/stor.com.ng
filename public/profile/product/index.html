<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products - stor.com.ng</title>
    <!-- favi -->
    <link rel="apple-touch-icon" sizes="180x180" href="../../img/ico/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../img/ico/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../img/ico/favicon-16x16.png">
    <!-- favi -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tw-elements/dist/css/index.min.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="../../tailwind.js"></script>
    <!-- daisy -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@2.41.0/dist/full.css" rel="stylesheet" type="text/css" />
    <!-- /daisy end -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <script defer>
    document.addEventListener('alpine:init', () => {
        Alpine.data('content', ()=> ({
            products: [ ],
            store_name: "",
            store_uid:"",
            currency:"NGN",
            showcart:false,
            shopper:"",
            deduce(a){
                if(a){
                    this.detail.count++
                }else{
                    if(this.detail.count > 1) {   
                        this.detail.count--
                    }
                }
            },
            calcTotal(){
              return (this.detail.itm_price * this.detail.count).toLocaleString()
            },
            cart:[
                // {id:1, itm_name:"Throwback Hip Bag", itm_price:90000, count:1, type:"salmon", img:"https://tailwindui.com/img/ecommerce-images/shopping-cart-page-04-product-01.jpg", alt:"salmon Throwback Hip Bag"},
                // {id:2, itm_name:"Medium Stuff Satchel", itm_price:40000, count:1, type:"blue", img:"https://tailwindui.com/img/ecommerce-images/shopping-cart-page-04-product-02.jpg", alt:"Blue Medium Stuff Satchel"}
            ],
            upd:{
                img:"https://tailwindui.com/img/ecommerce-images/shopping-cart-page-04-product-02.jpg",itm_name:"Product Name", price:5000, letter:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias at aliquid repellat, esse autem doloribus quo nihil voluptatibus suscipit sint iure facere"
            },
            totalPrice(){
                let total = 0
                for(var i=0;i<this.cart.length;i++){
                    total += (this.cart[i].itm_price * this.cart[i].count)
                }
                return ` ${this.currency} ${total.toLocaleString()}`
            },
            priceLocale(x){
                x = parseInt(x) 
                return x.toLocaleString()
            },
            removeItm(key){
                removeCartItm(key)               
            },
            toggleCart(){
                this.showcart = !this.showcart;
                document.querySelector("#cart").classList.remove("hidden");
            },
            addTocart(key, count){
                // current referenced in script
                snap(this.store_uid, key, true)
                current["count"] = count
                writeUserCart(userP.uid, key, current);
            },
            getPreCart(){
                // cartCurrent referenced in script
                this.cart = [];
                cartVal.sort();
                cartVal.reverse();
                for (const i of cartVal) {
                    snapCart(userP.uid, i, true)
                    this.cart.push(cartCurrent)
                }
                
                // side change subscribe btn
                if(subsVal.includes(userP.email)){
                    this.subText = "Thanks for Being a Subscriber"
                }
                
            },
            getData(){
                this.store_name = getCookie("store_name");
                // this.store_uid = getCookie("uid");
                this.store_uid = location.search.substring(1);
            },
            updIf:false,
            toggleUpd(){
                this.updIf = !this.updIf
                document.querySelector("#updifID").classList.remove("hidden");
            },
            editProductIf:false,
            editProductog(){
                this.editProductIf = !this.editProductIf
                document.querySelector("#editProduct").classList.toggle("hidden");
            },
            editProductContent:[{
                alt: "stor.com.ng-jordan.png", count: 1, id: "id1972b015a12b37", img:"https://firebasestorage.googleapis.com/v0/b/stor-com-ng.appspot.com/o/images%2FtPXhbp1DaPU5YWtChEOMEpNaFVH2%2Fstore%2Fid1972b015a12b37%2Fjordan.png?alt=media&token=144148d6-3849-4a33-a989-f9653f2b1fbf", itm_name: "Product Name", itm_price: "5000", letter: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias at aliquid repellat, esse autem doloribus quo nihil voluptatibus suscipit sint iure facere", store_uid:"tPXhbp1DaPU5YWtChEOMEpNaFVH2"
            }],
            validateEditNow(x){
              this.editProductContent = []
              this.editProductContent.push(this.detail)
              
            //   console.log("Edit", this.editProductContent);
              this.editProductog()
            },
            saveEdit(){
                edtUniq = this.edt.id 
                if(!edtUniq) return alert("edtUniq is "+ edtUniq)
                edtThis.click()
                this.editProductog()
                popInOut(updEdtFinish)
            },
            updImgPreviewEdt(event) {
                if (event.target.files.length > 0) {
                    var file = event.target.files[0];
                    var src = URL.createObjectURL(file);
                    this.edt.img = src;
                }
            },
            updImgUploadEdt(){
                document.querySelector('#profileImgInpEdt').click()
            },
            updImgPreview(event) {
                if (event.target.files.length > 0) {
                    var file = event.target.files[0];
                    var src = URL.createObjectURL(file);
                    this.upd.img = src;
                }
            },
            updImgUpload(){
                document.querySelector('#profileImgInp').click()
            },
            fbvalues(){
                this.updIf = false;
                this.products = []
                // current referenced in script
                kVal.sort();
                kVal.reverse();
                for (const i of kVal) {
                    snap(owner, i, true)
                    this.products.push(current)
                }
                
                if (link.length >= 2) this.updwithLink()
                
                // isOwner
                this.isOwnerfunx()
            },
            noProduct:"Store don't have a  product",
            picks:[
                // {id:100, img:"https://tailwindui.com/img/ecommerce-images/shopping-cart-page-04-product-02.jpg",itm_name:"Product Name", count:1, itm_price:5000, letter:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias at aliquid repellat, esse autem doloribus quo nihil voluptatibus suscipit sint iure facere! Architecto quos animi at ex ut, excepturi possimus."}
            ],
            deduceP(a){
                if(a){
                    this.p.count++
                }else{
                    if(this.p.count > 1) {   
                        this.p.count--
                    }
                }
            },
            calcTotalP(){
              return (this.p.itm_price * this.p.count).toLocaleString()
            },
            copythisUrl(){
                this.picks = []
                snap(owner, this.detail.id, true)
                this.picks.push(current)
                copiableLink = location.origin+location.pathname+'?'+this.detail.id+','+owner;
                console.log(copiableLink);
                navigator.clipboard.writeText(copiableLink)
                popInOut(copyUrlcomplt)
            },
            copyPrevUrl(){
                copiableLink = location.origin+location.pathname+'?'+this.p.id+','+owner;
                console.log(copiableLink);
                navigator.clipboard.writeText(copiableLink)
                popInOut(copyUrlcomplt)
            },
            seemoreOnthis(){
                this.picks = []
                snap(owner, this.detail.id, true)
                this.picks.push(current)
                window.scrollTo(0,0)
            },
            updwithLink(){
                console.log("Upd CLicked");
                this.picks = []
                snap(owner, link[0], true)
                this.picks.push(current)
            },
            selectedProductcheck(x){
                var check = confirm("Are you sure you want to delete this item")
                if(check) removeProducts(this.detail.id)
            },
            subsToStore(){
                subMe(owner)
            },
            subText:"Subscribe to Shop",
            isOwner:false,
            isOwnerfunx(){
                if(userP.uid == owner) this.isOwner = true
            },
            showCheckoutbtn:"true",
            showCheckoutMain(){
                this.showCheckoutbtn = !this.showCheckoutbtn
                this.shopper = userP.displayName
                // inCartPay from script
                inCartPay = []
                this.cart.forEach(i => {
                    inCartPay.push(i)
                })
            },
            // takePaymentPre(){
            //     const paymentForm = document.getElementById('paymentForm');
            //     paymentForm.addEventListener("submit", payWithPaystack, false);
            //     function payWithPaystack(e) {
            //     e.preventDefault();

            //     let handler = PaystackPop.setup({
            //         key: 'pk_test_xxxxxxxxxx', // Replace with your public key
            //         email: document.getElementById("email-address").value,
            //         amount: document.getElementById("amount").value * 100,
            //         ref: ''+Math.floor((Math.random() * 1000000000) + 1), 
            //         onClose: function(){
            //         alert('Window closed.');
            //         },
            //         callback: function(response){
            //         let message = 'Payment complete! Reference: ' + response.reference;
            //         alert(message);
            //         }
            //     });

            //     handler.openIframe();
            //     }
            // }
        }))
    })
    </script>
</head>
<body data-theme="light" x-data="content" x-init="getData()" class="overflow-x-hidden">
    <div class="w-100 flex justify-center align-middle p-6 flex-col pt-24">
        <!-- updaters/ triggers -->
        <div class="hidden">
            <p id="cartValUpdater" @click="getPreCart()"></p>
            <p id="valuesUpdater" @click="fbvalues()"></p>
            <p id="updwithLink" @click="updwithLink()"></p>
        </div>
        
        <!-- pops event complete/err -->
        <div class="fixed right-0 top-0 z-50">
            <p id="copyUrlcomplt" class="hidden p-5 font-bold text-xs rounded bg-green-300 m-4 transition">Copied to clipboard</p>
        </div>
        
        <!-- head line and cart -->
        <div class="flex justify-between align-middle p-6 m-2">
            <div class="flex flex-col w-screen">
                <h1 class="text-xl p-2 font-bold capitalize">Shop from the best store online</h1>
                <!-- shown when no product in store -->
                <div class="hidden bg-gray-100 border-2 rounded m-6" id="noProductBg">
                    <h1 class="py-36 text-center text-gray-300 font-bold text-xs md:text-3xl capitalize" x-text="noProduct"></h1>
                </div>
                
                <!-- else show loader -->
                <div id="stgtHidder" class="bg-white py-36 flex justify-center align-middle">
                    <div class="flex justify-center items-center">
                        <div class="spinner-grow inline-block w-8 h-8 bg-blue-500 rounded-full opacity-0" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Cart -->
            <div>
                <button class="p-2 rounded-full hover:bg-blue-200 transition" @click="toggleCart()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="blue" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
                    </svg>
                </button>
                <!-- Full cart -->
                <section  class="hidden relative z-10 transition ease-in-out duration-200"  aria-labelledby="slide-over-title" role="dialog" aria-modal="true" x-show="showcart" x-transition id="cart">
                    <!-- cart overlay -->
                    <div class="fixed inset-0 bg-gray-700 bg-opacity-75 transition-opacity" @click="toggleCart()"></div>
                    <!-- cart -->
                    <div class="fixed inset-0 overflow-hidden">
                        <div class="absolute inset-0 overflow-hidden">
                            <div class="pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10 z-10">
                                <div class="pointer-events-auto w-screen max-w-md">
                                    <div class="flex h-full flex-col overflow-y-scroll bg-white shadow-xl">
                                        <!-- head and ordered items -->
                                        <div class="flex-1 overflow-y-auto py-6 px-4 sm:px-6">
                                            <!-- head -->
                                            <div class="flex items-start justify-between">
                                                <h2 class="text-lg font-medium text-gray-900" id="slide-over-title" x-text="'Shopping Cart ('+cart.length+')'"></h2>
                                                <div class="ml-3 flex h-7 items-center">
                                                    
                                                <!-- the hide button -->
                                                <button type="button" class="-m-2 p-2 text-gray-400 text-blue-500 hover:bg-blue-200 rounded-full" @click="toggleCart()">
                                                    <span class="sr-only">Close panel</span>
                                                    <!-- Heroicon name: outline/x-mark -->
                                                    <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                                                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                                                    </svg>
                                                </button>
                                                </div>
                                            </div>
                                            
                                            <!-- ordered items -->
                                            <div class="mt-8">
                                                <div class="flow-root">
                                                    <ul role="list" class="-my-6 divide-y divide-gray-200">
                                                        <template x-for="li in cart" :key="li.id">   
                                                            <li class="flex py-6">
                                                                <!-- image -->
                                                                <div class="h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200">
                                                                    <img :src="li.img" :alt="li.alt" class="h-full w-full object-cover object-center">
                                                                </div>
                                                                <!-- texts -->
                                                                <div class="ml-4 flex flex-1 flex-col">
                                                                    <div>     
                                                                        <!-- Price and name -->
                                                                        <div class="flex justify-between text-base font-medium text-gray-900">
                                                                            <h3>
                                                                            <a x-text="li.itm_name"></a>
                                                                            </h3>
                                                                            <p class="ml-4 text-xs" x-text="currency+' '+priceLocale(li.itm_price)"></p>
                                                                        </div>
                                                                        <!-- color/ type -->
                                                                        <p class="text-sm text-gray-500 max-h-12 overflow-hidden p-2" x-text="li.letter"></p>
                                                                    </div>
                                                                    <!-- quantity and remove btn -->
                                                                    <div class="flex flex-1 items-end justify-between text-sm">
                                                                        <p class="text-gray-500" x-text="'Qty '+li.count"></p>

                                                                        <div class="flex">
                                                                            <button type="button" class="font-medium text-blue-600 hover:text-blue-500" @click="removeItm(li.id)">Remove</button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </li>
                                                        </template>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- foot -->
                                        <div class="border-t border-gray-200 py-6 px-4 sm:px-6">
                                            <div class="flex justify-between text-base font-medium text-gray-900">
                                                <p>Sub Total</p>
                                                <p x-text="totalPrice()"></p>
                                            </div>
                                            <!-- checkout button -->
                                            <div x-show="showCheckoutbtn">
                                                <p class="mt-0.5 text-sm text-gray-500">Shipping and taxes calculated at checkout.</p>
                                                <a class="mt-6 flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-blue-700 cursor-pointer" @click="showCheckoutMain()">Checkout</a>
                                            </div>
                                            <!-- shipping details -->
                                            <form id="payBtnForm" class="mt-6 relative" x-show="!showCheckoutbtn">
                                                <i @click="showCheckoutMain()" class="absolute top-0 right-2 bg-red-200 active:bg-red-500 active:text-white cursor-pointer w-8 text-center rounded-full p-2  fa fa-xmark"></i>
                                                <h1 class="text-base font-medium text-gray-900 mb-6">Delivered To: <b x-text="shopper" class="capitalize"></b></h1>
                                                <div id="payAdCont" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                    <input id="cont" class="border-2 w-full max-w-xs p-3 rounded-lg" value="Nigeria" readonly>
                                                    <select id="states" class="input input-bordered w-full max-w-xs" required></select>
                                                    <input id="cont" type="text" placeholder="Street" class="input input-bordered w-full max-w-xs" required/>
                                                    <input id="cont" type="number" placeholder="Phone Number" class="input input-bordered w-full max-w-xs" required/>
                                                </div>
                                                <div class="mt-6">
                                                    <button type="submit" class="flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-blue-700 cursor-pointer w-full" x-text="'Pay '+totalPrice()"></button>
                                                </div>
                                            </form>
                                            <!-- contine shoping -->
                                            <div class="mt-6 flex justify-center text-center text-sm text-gray-500">
                                                <p>
                                                or
                                                <button type="button" class="font-medium text-blue-600 hover:text-blue-500" @click="toggleCart()">
                                                    Continue Shopping
                                                    <span aria-hidden="true"> &rarr;</span>
                                                </button>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>            
                            <div class="w-screen h-screen absolute inset-0" @click="toggleCart()"></div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        
        <!-- preview of 1 product -->
        <div class="grid grid-cols-1 gap-4 p-4">
            <template x-for="p in picks" :key="p.id">
                <div class="relative">
                    <div class="w-full flex justify-center align-middle flex-col md:flex-row flex-col-reverse">
                        <!-- product -->
                        <div class="w-sm md:w-80 bg-white shadow rounded p-4">
                            <!-- product image -->
                            <div class="h-48 w-100 bg-gray-200 flex flex-col justify-between p-4 bg-cover bg-center rounded"
                                :style="`background-image: url(${p.img})`">
                                <!-- plus(+) and select svgs -->
                                <div class="flex justify-between align-middle hidden">
                                    <input type="checkbox" />
                                    <button class="text-white hover:text-blue-500">
                                        <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="h-6 w-6"
                                        fill="none"
                                        viewBox="0 0 24 24"
                                        stroke="currentColor"
                                        >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M12 4v16m8-8H4"
                                        />
                                        </svg>
                                    </button>
                                </div>
                                <!-- Availiability button -->
                                <div>
                                    <span class="uppercase text-xs bg-green-50 p-0.5 border-green-500 border rounded text-green-700 font-medium select-none">available</span>
                                </div>
                            </div>
                            <!-- product details -->
                            <div class="p-4 flex flex-col items-center">
                                    <p class="text-gray-400 font-light text-xs text-center" x-text="store_name"></p>
                                    <h1 class="text-gray-800 text-center mt-1" x-text="p.itm_name"></h1>
                                    <p class="text-center text-gray-800 mt-1" x-text="currency+ ' '+ calcTotalP()"></p>
                                    <!-- numbers button -->
                                    <div class="inline-flex items-center mt-2">      
                                        <button
                                            class="bg-white rounded-l border text-gray-600 hover:bg-gray-100 active:bg-gray-200 disabled:opacity-50 inline-flex items-center px-2 py-1 border-r border-gray-200" @click="deduceP(false)">
                                            <svg
                                            xmlns="http://www.w3.org/2000/svg"
                                            class="h-6 w-4"
                                            fill="none"
                                            viewBox="0 0 24 24"
                                            stroke="currentColor"
                                            >
                                            <path
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                stroke-width="2"
                                                d="M20 12H4"
                                            />
                                            </svg>
                                        </button>
                                        <div class="bg-gray-100 border-t border-b border-gray-100 text-gray-600 hover:bg-gray-100 inline-flex items-center px-4 py-1 select-none" x-text="p.count">
                                        </div>
                                        <button class="bg-white rounded-r border text-gray-600 hover:bg-gray-100 active:bg-gray-200 disabled:opacity-50 inline-flex items-center px-2 py-1 border-r border-gray-200" @click="deduceP(true)">
                                            <svg
                                            xmlns="http://www.w3.org/2000/svg"
                                            class="h-6 w-4"
                                            fill="none"
                                            viewBox="0 0 24 24"
                                            stroke="currentColor"
                                            >
                                            <path
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                stroke-width="2"
                                                d="M12 4v16m8-8H4"
                                            />
                                            </svg>
                                        </button>
                                    </div>
                                    <button class="py-2 px-4 bg-blue-500 text-white rounded hover:bg-blue-600 active:bg-blue-700 disabled:opacity-50 mt-4 w-full flex items-center justify-center" @click="addTocart(p.id, p.count)">Add to order
                                        <svg
                                            xmlns="http://www.w3.org/2000/svg"
                                            class="h-6 w-6 ml-2"
                                            fill="none"
                                            viewBox="0 0 24 24"
                                            stroke="currentColor"
                                        >
                                            <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"
                                            />
                                        </svg>
                                    </button>  
                            </div>   
                        </div>
                        
                        <!-- sales letter and more -->
                        <div class="p-4 max-w-md">
                            <h1 class="text-2xl font-bold pt-6" x-text="p.itm_name"></h1>
                            <p class="text-xs" x-text="'by '+ store_name"></p>
                            <div class="my-6" x-text="p.letter"></div>
                        </div>
                    </div>
                    <div class="p-6">
                        <h1 class="pt-6 font-bold text-blue-600 text-xl capitalize">Explore more in Our Shop</h1>
                    </div>
                    <div class="absolute top-0 right-0">
                        <button class="p-2 text-gray-700 rounded hover:bg-blue-300 active:bg-blue-200 disabled:opacity-50 mt-4 w-full flex items-center justify-center rounded-full" @click="copyPrevUrl()">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z" />
                            </svg>
                        </button>
                    </div>
                </div>
            </template>
        </div>
        
        <!-- All products -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            <template x-for="detail in products" :key="detail.id">
                <div class="w-full flex justify-center align-middle">
                    <div class="w-80 bg-white shadow rounded p-6">
                        <!-- product image -->
                        <div class="h-48 w-full bg-gray-200 flex flex-col justify-between p-4 bg-cover bg-center rounded"
                            :style="`background-image: url(${detail.img})`">
                            <!-- plus(+) and delete svgs-->
                            <div class="flex justify-between align-middle">
                                <button title="delete item" class="text-red-800" @click="selectedProductcheck(this)" x-show="isOwner">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0" />
                                    </svg>
                                </button>
                                <button title="edit item" class="text-blue-600" @click="validateEditNow(this)" x-show="isOwner">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
                                    </svg>
                                </button>                            
                                <button title="Copy Link" class="text-gray-700 hover:text-blue-500" @click="copythisUrl()">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z" />
                                    </svg>
                                </button>
                            </div>
                            <!-- Availiability button -->
                            <div>
                                <span class="uppercase text-xs bg-green-50 p-0.5 border-green-500 border rounded text-green-700 font-medium select-none">available</span>
                            </div>
                        </div>
                        <!-- product details -->
                        <div class="p-4 flex flex-col items-center">
                                <p x-text="detail.id" id="itemId" class="hidden"></p>
                                <p class="text-gray-400 font-light text-xs text-center" x-text="store_name"></p>
                                <h1 class="text-gray-800 text-center mt-1" x-text="detail.itm_name"></h1>
                                <p class="text-center text-gray-800 mt-1" x-text="currency+ ' '+ calcTotal()"></p>
                                <!-- numbers button -->
                                <div class="inline-flex items-center mt-2">      
                                    <button
                                        class="bg-white rounded-l border text-gray-600 hover:bg-gray-100 active:bg-gray-200 disabled:opacity-50 inline-flex items-center px-2 py-1 border-r border-gray-200" @click="deduce(false)">
                                        <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="h-6 w-4"
                                        fill="none"
                                        viewBox="0 0 24 24"
                                        stroke="currentColor"
                                        >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M20 12H4"
                                        />
                                        </svg>
                                    </button>
                                    <div class="bg-gray-100 border-t border-b border-gray-100 text-gray-600 hover:bg-gray-100 inline-flex items-center px-4 py-1 select-none" x-text="detail.count">
                                    </div>
                                    <button class="bg-white rounded-r border text-gray-600 hover:bg-gray-100 active:bg-gray-200 disabled:opacity-50 inline-flex items-center px-2 py-1 border-r border-gray-200" @click="deduce(true)">
                                        <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="h-6 w-4"
                                        fill="none"
                                        viewBox="0 0 24 24"
                                        stroke="currentColor"
                                        >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M12 4v16m8-8H4"
                                        />
                                        </svg>
                                    </button>
                            </div>
                            <button class="py-2 px-4 bg-blue-500 text-white rounded hover:bg-blue-600 active:bg-blue-700 disabled:opacity-50 mt-4 w-full flex items-center justify-center" @click="addTocart(detail.id, detail.count)">Add to order
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"
                                        />
                                    </svg>
                            </button>
                            <button class="py-2 px-4 bg-gray-500 text-white rounded hover:bg-gray-600 active:bg-gray-700 disabled:opacity-50 mt-4 w-full flex items-center justify-center" @click="seemoreOnthis()">View Decription</button>
                        </div>   
                    </div>
                </div>
            </template>
        </div>
        
        <!-- Add new button and Subscrib btn-->
        <div class="absolute top-5 left-5">
            <div id="newProductAdd" class="grid grid-cols-2 gap-4">
                <button class="py-2 px-4 bg-gray-500 text-white rounded hover:bg-gray-600 active:bg-gray-700 disabled:opacity-50 mt-4 w-full flex items-center justify-center" @click="location.assign(`../?get=${owner}`)">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                    </svg>
                </button>
                <button class="py-2 px-4 bg-blue-500 text-white rounded hover:bg-blue-600 active:bg-blue-700 disabled:opacity-50 mt-4 w-full flex items-center justify-center" title="Add a new Product" @click="toggleUpd()">Add New  
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                    </svg>
                </button>
            </div>
            <div id="customerStat" class="hidden flex  align-middle">
                <button class="py-2 px-4 bg-gray-500 text-white rounded hover:bg-gray-600 active:bg-gray-700 disabled:opacity-50 mt-4 w-24 flex items-center justify-center mx-6" @click="location.assign(`../?get=${owner}`)">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 21v-7.5a.75.75 0 01.75-.75h3a.75.75 0 01.75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349m-16.5 11.65V9.35m0 0a3.001 3.001 0 003.75-.615A2.993 2.993 0 009.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 002.25 1.016c.896 0 1.7-.393 2.25-1.016a3.001 3.001 0 003.75.614m-16.5 0a3.004 3.004 0 01-.621-4.72L4.318 3.44A1.5 1.5 0 015.378 3h13.243a1.5 1.5 0 011.06.44l1.19 1.189a3 3 0 01-.621 4.72m-13.5 8.65h3.75a.75.75 0 00.75-.75V13.5a.75.75 0 00-.75-.75H6.75a.75.75 0 00-.75.75v3.75c0 .415.336.75.75.75z" />
                    </svg>
                </button>
                <button class="w-32 py-2 px-4 bg-blue-500 text-white rounded hover:bg-blue-600 active:bg-blue-700 disabled:opacity-50 mt-4 flex items-center justify-center text-xs" title="be the first to get updates straight to your inbox" @click="subsToStore()" x-text="subText">Subscribe to Shop</button>
            </div>
        </div>    
    </div>
    
    <!-- upd -->
    <div class="hidden w-full flex justify-center align-middle absolute z-50 top-0 right-0 transition overflow-x-hidden" id="updifID" x-show="updIf">
        <div class="w-full flex justify-center align-middle p-6 fixed inset-0 bg-blue-500">
            <div class="blur-2xl bg-gray-700 fixed w-full h-screen inset-0"></div>
            <div class="w-80 z-10 bg-white shadow rounded p-6">
                <!-- product image upd -->
                <div class="h-48 w-full bg-gray-200 flex flex-col justify-between p-4 bg-cover bg-center rounded"
                    :style="`background-image: url(${upd.img})`" @click="updImgUpload()">
                    <input accept="image/*" type="file" name="image" id="profileImgInp" class="hidden" @change="updImgPreview(event)">
                </div>
                <!-- product details -->
                <div class="p-4 flex flex-col items-center">
                    <p x-text="store_uid" title="store_uid" class="hidden" id="updEditable"></p>
                    <p class="text-gray-400 font-light text-xs text-center" x-text="store_name"></p>
                    <h1 class="pb-2 text-gray-800 text-center mt-1" x-text="upd.itm_name" id="updEditable" title="itm_name"></h1>
                    <p class="text-xs font-light capitalize" x-text="currency"></p>
                    <p class="text-center pb-2 text-gray-800 mt-1" x-text="upd.price" id="updEditable" title="itm_price"></p>
                    <p class="pt-2 text-xs font-bold capitalize">Describe What you have For sale</p>
                    <div class="p-2 h-32 overflow-y-auto" x-text="upd.letter" id="updEditable" title="letter"></div>
                    <button class="py-2 px-4 bg-blue-500 text-white rounded hover:bg-blue-600 active:bg-blue-700 disabled:opacity-50 mt-4 w-full flex items-center justify-center" id="addToStore" click="toggleUpd()">Add to Store
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/>
                        </svg>
                    </button>    
                    <button class="py-2 px-4 bg-gray-500 text-white rounded hover:bg-gray-600 active:bg-gray-700 disabled:opacity-50 mt-4 w-full flex items-center justify-center" @click="toggleUpd()">Cancel</button>    
                </div>
                
                <!-- cancel btn -->
                <button class="absolute top-0 right-0 md:top-5 md:right-5 p-2 m-4 rounded-full bg-gray-800 hover:bg-gray-900 transition text-white" @click="toggleUpd()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
                <!-- errors -->
                <!-- uis for errors and messages comming soon -->
            </div>
        </div>
    </div>
    
    <!-- editProduct -->
    <div class="hidden w-full flex justify-center align-middle absolute z-50 top-0 right-0 transition overflow-x-hidden" id="editProduct" x-show="editProductIf">
        <div class="w-full flex justify-center align-middle p-6 fixed inset-0 bg-green-500">
            <!-- trigger edit -->
            <p id="edtThis" class="hidden"></p>
            <!-- trigger edit -->
            <div class="blur-2xl bg-gray-700 fixed w-full h-screen inset-0"></div>
            <template x-for="edt in editProductContent" :key="edt.id">
                <div class="w-80 z-10 bg-white shadow rounded p-6">
                    <!-- product image upd -->
                    <div class="h-48 w-full bg-gray-200 flex flex-col justify-between p-4 bg-cover bg-center rounded"
                        :style="`background-image: url(${edt.img})`" @click="updImgUploadEdt()">
                        <input accept="image/*" type="file" name="image" id="profileImgInpEdt" class="hidden" @change="updImgPreviewEdt(event)">
                    </div>
                    
                    <!-- product details -->
                    <div class="p-4 flex flex-col items-center">
                        <p x-text="store_uid" title="store_uid" class="hidden" id="updEditer" contenteditable></p>
                        <p class="text-gray-400 font-light text-xs text-center" x-text="store_name"></p>
                        <h1 class="pb-2 text-gray-800 text-center mt-1" x-text="edt.itm_name" id="updEditer" contenteditable title="itm_name"></h1>
                        <p class="text-xs font-light capitalize" x-text="currency"></p>
                        <p class="text-center pb-2 text-gray-800 mt-1" x-text="edt.itm_price" id="updEditer" contenteditable title="itm_price"></p>
                        <p class="pt-2 text-xs font-bold capitalize">Describe What you have For sale</p>
                        <div class="p-2 h-32 overflow-y-auto" x-text="edt.letter" id="updEditer" contenteditable title="letter"></div>
                        <button class="py-2 px-4 bg-blue-500 text-white rounded hover:bg-blue-600 active:bg-blue-700 disabled:opacity-50 mt-4 w-full flex items-center justify-center" @click="saveEdit()">Save Changes
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
                            </svg>
                        </button>    
                        <button class="py-2 px-4 bg-gray-500 text-white rounded hover:bg-gray-600 active:bg-gray-700 disabled:opacity-50 mt-4 w-full flex items-center justify-center" @click="editProductog()">Cancel</button>    
                    </div>
                    
                    <!-- cancel btn float top-right-->
                    <button class="absolute top-0 right-0 md:top-5 md:right-5 p-2 m-4 rounded-full bg-gray-800 hover:bg-gray-900 transition text-white cursor-pointer" @click="editProductog()">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                    <!-- errors -->
                    <!-- uis for errors and messages comming soon -->
                </div>    
            </template>
        </div>
    </div>
    
    
    
    
    <!-- payments form -->
    <!-- <div>
        <form id="paymentForm" class="hidden">
            <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" id="email-address" required x-model="userP.email"/>
            </div>
            <div class="form-group">
                <label for="amount">Amount</label>
                <input type="tel" id="amount" required />
            </div>
            <div class="form-group">
                <label for="first-name">First Name</label>
                <input type="text" id="first-name" />
            </div>
            <div class="form-group">
                <label for="last-name">Last Name</label>
                <input type="text" id="last-name" />
            </div>
            <div class="form-submit">
                <button type="submit" onclick="payWithPaystack()"> Pay </button>
            </div>
        </form>
    </div> -->
        
    
    
    
    <!-- cartpop and cartpoper -->
    <div class="hidden w-max fixed top-5 right-10 transition z-50" id="cartPop" >
        <div class="bg-white rounded p-3 shadow-lg">
          <div class="flex flex-row">
            <div class="px-2">
              <svg width="24" height="24" viewBox="0 0 1792 1792" fill="#44C997" xmlns="http://www.w3.org/2000/svg">
                <path d="M1299 813l-422 422q-19 19-45 19t-45-19l-294-294q-19-19-19-45t19-45l102-102q19-19 45-19t45 19l147 147 275-275q19-19 45-19t45 19l102 102q19 19 19 45t-19 45zm141 83q0-148-73-273t-198-198-273-73-273 73-198 198-73 273 73 273 198 198 273 73 273-73 198-198 73-273zm224 0q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"/>
                </svg>
            </div>
            <div class="mr-4">
              <span class="text-sm">Succesfully Added to Cart</span>
              <span class="block text-gray-500 hidden">Anyone with a link can now view this file</span>
            </div>
          </div>
        </div>        
    </div>
    
    <!-- Upload pop and poper -->
    <div class="hidden w-max fixed top-5 right-10 transition" id="uploadPop">
        <div class="bg-white rounded p-3 shadow-lg">
          <div class="flex flex-row">
            <div class="px-2">
              <svg width="24" height="24" viewBox="0 0 1792 1792" fill="#44C997" xmlns="http://www.w3.org/2000/svg">
                <path d="M1299 813l-422 422q-19 19-45 19t-45-19l-294-294q-19-19-19-45t19-45l102-102q19-19 45-19t45 19l147 147 275-275q19-19 45-19t45 19l102 102q19 19 19 45t-19 45zm141 83q0-148-73-273t-198-198-273-73-273 73-198 198-73 273 73 273 198 198 273 73 273-73 198-198 73-273zm224 0q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"/>
                </svg>
            </div>
            <div class="mr-4">
              <span class="text-sm">New Item added to Store</span>
              <span class="block text-gray-500 hidden">Anyone with a link can now view this file</span>
            </div>
          </div>
        </div>        
    </div>
    
    <!-- pops event complete/err -->
    <div class="fixed top-5 right-5">
        <p id="subcmplt" class="z-50 hidden p-5 font-bold text-xs rounded bg-green-300 m-4 transition">You're Subscribed to Shop!</p>
        <p id="updEdtFinish" class="z-50 hidden p-5 font-bold text-xs rounded bg-green-300 m-4 transition">Item, Successfully Updated</p>
    </div>
    
    <!-- watermark -->
    <div class="w-full hidden p-6 bg-blue-300 flex justify-center align-middle flex-col" id="waterAds">
        <div class="flex justify-center align-middle p-4 flex-col md:flex-row md:justify-evenly">
            <!-- description and details -->
            <div class="flex justify-center align-middle flex-col lg:w-max">
                <p class="max-w-sm p-2 my-6">
                    <b>How to sell more of your products in 30days than youve sold in the Last 3months even if you have no experience selling online</b>
                    <br><br><br>
                    Using a secret <b>Premium Tool</b>, combined with our <b>Challenging Mentorship</b> the odds are on your side on selling more of that products; putting in only 20% their average work of your competitors
                    <br><br>
                    Was prepared with your <b>Business Success</b> in Mind
                    <br><br>
                    Let's go on a <b>Tour</b>
                </p>
                <!-- <p class="max-w-sm p-2 my-6">
                    This is a preview version of <b>SToR,</b> please note that there are certain features that are only avaliable for <b>Premuim.</b>
                    <br><br>
                    The Premium comes with a Full package of <b>SToR</b> Which allows you take payments and monitor your <b>Brand's</b> growth
                    <br><br> 
                    Valued at a one-Time fee of <b class="line-through">50,000naira</b>
                    given away for only <b>5,000naira</b>                
                    <br><br>
                    <span class="text-lg text-left font-bold">You can now start Selling directly From Your Stor, Collect Payments and Deliver to your Customers Addresses</span>
                </p> -->
            </div>
            <!-- image and CTA -->
            <div class="flex justify-center align-middle flex-col">
                <img class="w-48 h-48 mt-12 mx-auto rounded-full shadow-sm flex items-center justify-center" src="../../img/me.jpg" alt="SToR">
                <div class="px-6 flex justify-center align-middle">
                    <a class="bg-green-600 btn btn-primary border-none my-6" href="../../pages/Ultimate_Tool/">
                        I want to start Selling more
                    </a>
                </div>
            </div>
        </div>
        <p class="text-center text-sm">Your customers don't see this ads</p>
    </div>
    
    
    <!-- paysatck -->
    <script src="https://js.paystack.co/v1/inline.js"></script> 
    
    
    <!-- states Selects -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function(){
      var states = ["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];
      $.each(states, function(i, state){
        $("#states").append("<option value='"+state+"'>"+state+"</option>");
      });
    });
  </script>


    
    
    
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-database.js"></script>

    <script src="../../auths.js"></script>
    <script src="script.js"></script>
</body>
</html>